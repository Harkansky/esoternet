{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mx-auto p-4 " style="height:75vh">
        <h1 class="text-2xl font-bold text-center mb-6">Bonjour {{ user }}</h1>

        {% if ( orders is not empty ) %}
            <div class="flex flex-col justify-center w-full overflow-x-auto rounded border ">
            <div class='p-4 text-xl'>Vos commandes :</div>
            {% for order in orders %}
                <div class="flex w-full flex-col justify-between p-4 border-b">
                    <div class="flex gap-2 w-1/4">
                        <strong>Num√©ro de commande:</strong>
                        <span>{{ order.id }}</span>
                    </div>

                    <div class="flex gap-2 w-1/4">
                        <strong>Date:</strong>
                        <span>{{ order.orderDate.date | date("d/m/Y") }}</span>
                    </div>

                    <div class="flex gap-2 w-1/4">
                        <strong>Prix:</strong>
                        <span>{{ order.totalAmount }}</span>
                    </div>

                    <div class="flex gap-2 w-1/4">
                        <strong>Items:</strong>
                        {% for item in order.getItems() %}
                            <span>{{ item.name }}</span>
                        {% else %}
                            <span>Aucun item</span>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
            </div>  
        {% else %}
            <p><strong>Pas de commande.</strong> </p>
        {% endif %}
    </div>

{% endblock %}
